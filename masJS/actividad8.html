<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Actividad 8</title>
  </head>
  <body>
    <div id="info">Máximo 100 caracteres</div>
    <textarea
      id="texto"
      onkeypress="return limita(event, 100);"
      onkeyup="actualizaInfo(100)"
      rows="6"
      cols="30"
    ></textarea>

    <script type="text/javascript">
      function limita(elEvento, maximoCaracteres) {
        var elemento = document.getElementById("texto");

        var evento = elEvento || window.event;
        var codigoCaracter = evento.which || evento.keyCode;
        if (elemento.value.length >= maximoCaracteres) {
          return false;
        } else {
          return true;
        }
      }

      function actualizaInfo(maximoCaracteres) {
        var elemento = document.getElementById("texto");
        var info = document.getElementById("info");
        if (elemento.value.length >= maximoCaracteres) {
          info.innerHTML = "Máximo " + maximoCaracteres + " caracteres";
        } else {
          info.innerHTML =
            "Puedes escribir hasta " +
            (maximoCaracteres - elemento.value.length) +
            " caracteres adicionales";
        }
      }
    </script>
  </body>
</html>
