<!DOCTYPE html>
<html>
  <body>
    <div id="demo">
      <h2>The XMLHttpRequest Object</h2>
    </div>
    <button type="button" onclick="loadDoc('ajax_info.txt', myFunction)">
      Change Content
    </button>

    <script>
      function loadDoc(url, xFunction) {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
          xFunction(this);
        };
        xhttp.open("GET", url);
        xhttp.send();
      }

      function myFunction(xhttp) {
        // Dividir el contenido del fichero en lÃ­neas
        const lines = xhttp.responseText.split("\n");

        // Crear colores diferentes para los encabezados
        const colors = ["red", "blue", "green", "orange", "purple"];

        // Construir HTML con encabezados de diferentes colores
        let htmlContent = "";
        lines.forEach((line, index) => {
          const color = colors[index % colors.length]; // Ciclar entre colores PENDIENTE ENTENDER
          htmlContent += `<h3 style="color: ${color};">${line}</h3>`;
        });

        // Asignar el contenido al elemento con el id "demo"
        document.getElementById("demo").innerHTML = htmlContent;
      }
    </script>
  </body>
</html>
